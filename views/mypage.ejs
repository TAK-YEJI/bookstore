<!DOCTYPE html>
<html lnag="ko">

<head>
    <meta charset="UTF-8">
    <title>mypage</title>
    <link rel="stylesheet" href="/stylesheets/mypage.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>

<body>
    <% if(sess !=null) { %>
        <div class="main-mypage">
            <div class="main-wrap">
                <header>
                    <div class="title-mypage">
                        <h1> My page </h1>
                    </div>
                </header>

                <div class="row justify-content-center">
                    <div class="col-12 col-lg-10 col-xl-8 mx-auto">
                        <h3>회원정보</h3>
                        <table class="table border bg-white">
                            <thead>
                                <tr>
                                    <th>아이디</th>
                                    <th>비밀번호</th>
                                    <th>이름</th>
                                </tr>
                            </thead>
                            <tbody>
                                <% for(let user of user_info){ %>
                                    <tr>
                                        <form method="post" action="/user/userUpdate">
                                            <td><input class="form-control" type="text" name="user_id"
                                                    value="<%=user.user_id%>"></td>
                                            <td><input class="form-control" type="text" name="user_pw"
                                                    value="<%=user.user_pw%>"></td>
                                            <td><input class="form-control" type="text" name="user_name"
                                                    value="<%=user.user_name%>"></td>

                                            <td><input type="submit" value="수정" class="btn btn-success" /></td>
                                        </form>
                                    </tr>
                                <% } %>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <div class="col-12 col-lg-10 col-xl-8 mx-auto">
                        <h3>카드</h3>
                            <table class="table border bg-white">
                                <thead>
                                    <tr>
                                        <th>카드 번호</th>
                                        <th>유효기간</th>
                                        <th>카드 종류</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <% for(let card of card_info){ %>
                                        <tr>
                                            <form method="post" action="/card/cardUpdate">
                                                <td><input class="form-control" type="text" name="card_id"
                                                    value="<%=card.card_id%>"></td>
                                                <td><input class="form-control" type="text" name="card_expiration_period"
                                                    value="<%=card.card_expiration_period%>"></td>
                                                <td><input class="form-control" type="text" name="card_type"
                                                    value="<%=card.card_type%>"></td>

                                                <td><input type="submit" value="수정" class="btn btn-success" /></td>
                                                <td><input type="submit" value="삭제" class="btn btn-success"
                                                    onclick="javascript: form.action='/card/cardDelete';" /></td>
                                            </form>
                                        </tr>
                                    <% } %>
                                            <form class="addAddress" action="/card/cardAdd" method="post">
                                                <tr>
                                                    <td><input class="form-control" type="text" name="card_id"
                                                        placeholder="" value=""></td>
                                                    <td><input class="form-control" type="text" name="card_expiration_period"
                                                        placeholder="" value=""></td>
                                                    <td><input class="form-control" type="text" name="card_type"
                                                        placeholder="" value=""></td>

                                                    <td colspan="2"><button type="submit" 
                                                        class="btn btn-success wd-full">추가</button></td>
                                                </tr>
                                            </form>
                                </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="row justify-content-center">
                                <div class="col-12 col-lg-10 col-xl-8 mx-auto">
                                    <h3>배송지</h3>
                                    <table class="table border bg-white">
                                        <thead>
                                            <tr>
                                                <th>우편번호</th>
                                                <th>기본 주소</th>
                                                <th>상세 주소</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <% for(var i=0; i < address_info.length; i++){ %>
                                                <tr>
                                                    <form method="post" action="/address/addressUpdate">
                                                        <td><input class="form-control" type="text" name="address_post"
                                                                value="<%=address_info[i].address_post%>"></td>
                                                        <td><input class="form-control" type="text" name="address_default"
                                                                value="<%=address_info[i].address_default%>"></td>
                                                        <td><input class="form-control" type="text" name="address_detail"
                                                                value="<%=address_info[i].address_detail%>"></td>

                                                        <td><input type="submit" value="수정" class="btn btn-success" /></td>
                                                        <td><input type="submit" value="삭제" class="btn btn-success"
                                                                onclick="javascript: form.action='/address/addressDelete';" /></td>
                                                    </form>
                                                </tr>
                                                <% } %>
                                                <form class="addAddress" action="/address/addressAdd" method="post">
                                                    <tr>
                                                        <td><input class="form-control" type="text" name="address_post"
                                                                placeholder="" value=""></td>
                                                        <td><input class="form-control" type="text" name="address_default"
                                                                placeholder="" value=""></td>
                                                        <td><input class="form-control" type="text" name="address_detail"
                                                                placeholder="" value=""></td>

                                                        <td colspan="2"><button type="submit" 
                                                                class="btn btn-success wd-full">추가</button></td>
                                                    </tr>
                                                </form>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="mypage-btn-wrap">
                                <button type="submit" name="mypage-btn"><a href="/">저장하기</a></button>
                            </div>
                        </div>
                <footer>
                    <div class="copyright-wrap" style="font-size: 12px;">
                        <span>이용약관 | 개인정보처리방침 | 책임의 한계와 고지 | 회원정보 고객센터</span>
                        <div>© 예Zl문go Corp.</div>
                    </div>
                </footer>
            </div>

        </div>
        <% } %>
</body>

</html>